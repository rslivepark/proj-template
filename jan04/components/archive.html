<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		    <!-- <link rel="stylesheet" href="../css/style.css" /> -->
    <link rel="stylesheet" href="../css/main.css" />
		<link rel="stylesheet" href="../css/mediaquery.css">
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
			integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		/>
		<!-- ë¹„ë””ì˜¤ ì¬ìƒ -->
		<link rel="stylesheet" href="../css/video-js.css" />
		<script src="../js/video.js" defer></script>
		<script src="../js/Youtube.js" defer></script>
		<script src="../js/Youtube.min.js" defer></script>

		<script src="../js/script.js" type="module" defer></script>
		<script src="../js/menu_min510.js" defer></script>
    <script src="../js/mouseover.js" defer></script>
    

		<title>TEAM Intgram</title>
	</head>
	<body>
		<div class="contents off">
			<header class="menu">
				<div class="logo">
					<img src="../img/logo.png" class="logo_img" />
				</div>

				<section class="menu-wrapper">
					<nav class="side-menu">
						<div id="horizontal-underline"></div>
						<a class="menu-link out-home" href="../components/home.html">
							<i class="fa-solid fa-house"></i>
							<span>Home</span>
						</a>

						<a class="menu-link out-db" id="dashboard">
							<i class="fa-solid fa-seedling"></i>
							<span>Dashboard</span>
						</a>

						<a class="menu-link out out-news" href="../components/archive.html">
							<i class="fa-solid fa-file-zipper"></i>
							<span>Newsfeed</span>
						</a>
						<a class="menu-link out out-calc" href="../components/calculation.html">
							<i class="fa-solid fa-calculator"></i>
							<span>Calculation</span>
						</a>
					</nav>
				</section>

				<section id="login-area" class="contents-header__login">
					<nav class="login-menu">
						<a class="login-menu-link" href="../components/login.html">
							<i class="fa-regular fa-circle-user"></i>
							<span>Login</span>
						</a>
						<a class="login-menu-link" href="../components/join.html">
							<i class="fa-solid fa-arrow-right-to-bracket"></i>
							<span>Register</span>
						</a>
					</nav>
				</section>

				<a href="#" class="navbar__toggleBtn">
					<i class="fa-solid fa-bars"></i>
				</a>

				<!-- ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë¡œê·¸ì¸ í™”ë©´ ì´ë™ -->
				<section id="login-screen" style="display: none"></section>

				<!-- ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ íšŒì›ê°€ì… í™”ë©´ ì´ë™ -->
				<section id="join-screen" style="display: none"></section>
			</header>
		</div>


		<main class="news-feed off">
			<!--  -->
			<aside id="news-area" class="news-area">
				<p class="news-list__title">News</p>
				<div class="news-list" id="newsListContainer">
					<!-- ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë  HTMLì´ ë“¤ì–´ê°‘ë‹ˆë‹¤. -->
				</div>

				<ul class="pagination" id="paginationContainer">
					<!-- ì—¬ê¸°ì— í˜ì´ì§€ ë²ˆí˜¸ê°€ ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. -->
				</ul>
			</aside>
			<!--  -->
			<aside id="video-area" class="video-area">
				<p class="video-list__title">Videos</p>
				<div class="video-list">
					<div class="video-item">
						<video
							id="my-video"
							class="video-js"
							controls
							preload="auto"
							width="356"
							height="200"
							data-setup='{"techOrder": ["youtube"], "sources": [{"type": "video/youtube", "src": "https://www.youtube.com/watch?v=XVAoQ60yAZc"}]}'
						></video>
						<a
							href="https://www.youtube.com/watch?v=XVAoQ60yAZc"
							target="_blank"
							>ì§€êµ¬ë¥¼ ëœ¨ê²ê²Œ ë§Œë“œëŠ” íƒ„ì†Œ ì´ì•¼ê¸°...</a
						>
					</div>

					<div class="video-item">
						<video
							id="my-video"
							class="video-js"
							controls
							preload="auto"
							width="356"
							height="200"
							data-setup='{"techOrder": ["youtube"], "sources": [{"type": "video/youtube", "src": "https://www.youtube.com/watch?v=WiM6VIey11A"}]}'
						></video>
						<a
							href="https://www.youtube.com/watch?v=WiM6VIey11A"
							target="_blank"
							>[KDI ê²½ì œì •ë³´ì„¼í„°] e-ê²½ì œì •ë³´ë¦¬ë·°: íƒ„ì†Œì¤‘ë¦½...</a
						>
					</div>

					<div class="video-item">
						<video
							id="my-video"
							class="video-js"
							controls
							preload="auto"
							width="356"
							height="200"
							data-setup='{"techOrder": ["youtube"], "sources": [{"type": "video/youtube", "src": "https://www.youtube.com/watch?v=SangLE4ex1U"}]}'
						></video>
						<a
							href="https://www.youtube.com/watch?v=SangLE4ex1U"
							target="_blank"
							>â¯ï¸ENG Sub| íƒ„ì†Œë°°ì¶œê¶Œ, íƒ„ì†Œì„¸, íƒ„ì†Œêµ­ê²½ì„¸...</a
						>
					</div>

					<div class="video-item">
						<video
							id="my-video"
							class="video-js"
							controls
							preload="auto"
							width="356"
							height="200"
							data-setup='{"techOrder": ["youtube"], "sources": [{"type": "video/youtube", "src": "https://www.youtube.com/watch?v=s4YWzoWWXVc"}]}'
						></video>
						<a href="" target="_blank"
							>íƒ„ì†Œì¤‘ë¦½ ì•Œì•„ë³´ê¸°ğŸŒ± | ê¸°í›„ìœ„ê¸° íŒ©íŠ¸ì²´í¬ 1í¸...</a
						>
					</div>
				</div>
			</aside>
		</main>

		<div class="screen-alert">í™”ë©´ í¬ê¸°ë¥¼ ëŠ˜ì—¬ì£¼ì„¸ìš”ğŸ™</div>
<script>
	

// JSON íŒŒì¼ ê²½ë¡œ
var jsonFilePath = '../json/news.json';
var itemsPerPage = 5;
var currentPage = 1;

// ë™ì ìœ¼ë¡œ HTML ìƒì„±
function createNewsElement(newsData) {
  var container = document.getElementById('newsListContainer');

  var newsListItem = document.createElement('li');
  newsListItem.className = 'news-list-item';

  var newsElement = document.createElement('div');
  newsElement.className = 'news-txt';

  var titleElement = document.createElement('div');
  titleElement.className = 'news-txt__title';
  var titleLink = document.createElement('a');
  titleLink.href = newsData.url;
  titleLink.textContent = newsData.title;
  titleElement.appendChild(titleLink);

  var detailElement = document.createElement('div');
  detailElement.className = 'news-txt__detail';
  detailElement.textContent = newsData.detail;

  newsElement.appendChild(titleElement);
  newsElement.appendChild(detailElement);
  newsListItem.appendChild(newsElement);
  container.appendChild(newsListItem);
}

// í˜ì´ì§€ ë²ˆí˜¸ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
function handlePageClick(pageNumber, data) {
  currentPage = pageNumber;
  updateNewsList(data);
}

// í˜ì´ì§€ ë²ˆí˜¸ ìƒì„±
function createPagination(data) {
  var totalItems = data.newsList.length;
  var totalPages = Math.ceil(totalItems / itemsPerPage);
  var paginationContainer = document.getElementById('paginationContainer');
  paginationContainer.innerHTML = '';

  for (var i = 1; i <= totalPages; i++) {
    var pageItem = document.createElement('li');
    pageItem.textContent = i;
    pageItem.addEventListener('click', function (event) {
      handlePageClick(parseInt(event.target.textContent), data);
    });
    paginationContainer.appendChild(pageItem);
  }
}

// ë‰´ìŠ¤ ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
function updateNewsList(data) {
  var startIdx = (currentPage - 1) * itemsPerPage;
  var endIdx = startIdx + itemsPerPage;
  var slicedData = data.newsList.slice(startIdx, endIdx);

  var container = document.getElementById('newsListContainer');
  container.innerHTML = '';

  // ì„ íƒëœ í˜ì´ì§€ì— ë”°ë¼ ë‰´ìŠ¤ ì•„ì´í…œ ìƒì„±
  slicedData.forEach(createNewsElement);
}

// JSON íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°
fetch(jsonFilePath)
  .then((response) => response.json())
  .then((data) => {
    // ì´ˆê¸° í˜ì´ì§€ ë²ˆí˜¸ ì„¤ì •
    currentPage = 1;

    // JSON ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ HTML ìƒì„±
    updateNewsList(data);

    // í˜ì´ì§€ ë²ˆí˜¸ ìƒì„±
    createPagination(data);
  })
  .catch((error) => console.error('ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤:', error));

// ë¹„ë””ì˜¤í”¼ë“œ
// ìƒˆë¡œìš´ ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
function createYouTubePlayer(containerId, videoId) {
  var container = document.getElementById(containerId);
  var newVideoItem = document.createElement('li');
  newVideoItem.className = 'video-list-item';

  var newPlayerDiv = document.createElement('div');
  newPlayerDiv.id = 'player-' + videoId; // ê° í”Œë ˆì´ì–´ì— ê³ ìœ í•œ ID ì§€ì •
  newVideoItem.appendChild(newPlayerDiv);

  container.appendChild(newVideoItem);

  // ìƒˆë¡œìš´ divì— ëŒ€í•œ YouTube í”Œë ˆì´ì–´ ìƒì„±
  new YT.Player(newPlayerDiv, {
    videoId: videoId,
    playerVars: {
      autoplay: false,
      loop: false,
      playlist: videoId,
    },
    events: {
      onReady: function (event) {
        event.target.mute();
      },
    },
  });
}

// YouTube API ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë™ì ìœ¼ë¡œ ë¡œë“œ
var tag = document.createElement('script');
tag.src = 'https://www.youtube.com/iframe_api';
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

// YouTube API ìŠ¤í¬ë¦½íŠ¸ê°€ ë¡œë“œëœ í›„ì— í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜
function onYouTubeIframeAPIReady() {
  // ì´ˆê¸° ë¹„ë””ì˜¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
  createYouTubePlayer('videoContainer', 'An6LvWQuj_8');
  createYouTubePlayer('videoContainer', 'An6LvWQuj_8');
}

</script>
	</body>
</html>
